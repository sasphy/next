---
description: 
globs: 
alwaysApply: true
---
# Tailwind v4 Migration Guide

## Key Changes for Successful Migration

### 1. Import Syntax

```diff
/* globals.css */
- @import "tailwindcss/preflight";
- @import "tailwindcss";
+ @import "tailwindcss";
```

### 2. Configuration Files

```js
// postcss.config.mjs
export default {
  plugins: {
    '@tailwindcss/postcss': {},
  },
}
```

### 3. Position Property Fixes

Tailwind v4 doesn't automatically create position utilities. Add these explicit classes:

```css
/* Add to globals.css */
@layer utilities {
  .relative {
    position: relative !important;
  }
  
  .absolute {
    position: absolute !important;
  }
  
  .fixed {
    position: fixed !important;
  }
  
  .static {
    position: static !important;
  }
}
```

### 4. Sizing Utilities

```css
/* Add to globals.css */
@layer utilities {
  .w-full {
    width: 100%;
  }
  
  .h-full {
    height: 100%;
  }
  
  .size-full {
    width: 100%;
    height: 100%;
  }
}
```

### 5. Fix Next.js Image Component

For Next.js Image component, add this CSS fix:

```css
/* Add to globals.css */
div[data-nimg="fill"] {
  position: relative !important;
}
```

### 6. Verify Installation

Ensure you have the correct packages installed:

```json
"@tailwindcss/postcss": "^4.1.6",
"tailwindcss": "^4.1.6"
```

### 7. Common Issues

- Position properties (relative, absolute) not working
- Flex and grid layouts breaking
- Next.js Image components showing incorrectly
- Container classes not functioning

### 8. Debugging Tip

Create a test component to validate Tailwind classes:

```tsx
import React from "react";

export default function TailwindTest() {
  return (
    <div className="p-4 border rounded-lg">
      <h2 className="text-2xl font-semibold mb-4">Tailwind v4 Test</h2>
      <div className="relative h-24 bg-slate-200 rounded p-2">
        <div className="absolute top-0 left-0 m-1 bg-blue-500 h-6 w-6"></div>
        <div className="absolute top-0 right-0 m-1 bg-blue-500 h-6 w-6"></div>
        <div className="absolute bottom-0 left-0 m-1 bg-blue-500 h-6 w-6"></div>
        <div className="absolute bottom-0 right-0 m-1 bg-blue-500 h-6 w-6"></div>
      </div>
    </div>
  );
}
```